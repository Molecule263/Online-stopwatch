let clock=$("#time"),clock_2=$("#lapTime"),startBtn=$("#start"),stopBtn=$("#stop-resume"),lapBtn=$("#lap-reset"),lapTable=$(".lap-table"),watch,calcLaps=!1,mins=0,secs=0,centsecs=0;var mins_2=0,secs_2=0,centsecs_2=0;let lapNum=1;function formatTime(t,e,s){let a,n=s,c=e,p=t;return n<10&&(n="0"+s),c<10&&(c="0"+e),p<10&&(p="0"+t),a=p+" : "+c+" . "+n,a}function getCurrentTime(){return formatTime(mins,secs,centsecs)}function getCurrentLapTime(){return formatTime(mins_2,secs_2,centsecs_2)}function showCurrentTime(){clock.text(getCurrentTime())}function showCurrentLapTime(){clock_2.text(getCurrentLapTime())}function startStopWatch(){watch=setInterval(()=>{centsecs++,99===centsecs&&(centsecs=0,secs++),60===secs&&(secs=0,mins++),calcLaps&&(99===++centsecs_2&&(centsecs_2=0,secs_2++),60===secs_2&&(secs_2=0,mins_2++)),showCurrentTime(),showCurrentLapTime()},10)}function resetStopWatch(){clearInterval(watch),clock.text("00 : 00 . 00"),clearLapTable(),mins=0,secs=0,centsecs=0,centsecs_2=secs_2=mins_2=0,lapNum=1}function stopStopWatch(){clearInterval(watch)}function resetLapTime(){centsecs_2=secs_2=mins_2=0}function changeStopLapBtns(){"Stop"===stopBtn.text()&&"Lap"===lapBtn.text()?(stopBtn.text("Resume"),stopBtn.removeClass("btn-danger"),stopBtn.addClass("btn-primary"),lapBtn.text("Reset")):"Resume"===stopBtn.text()&&"Reset"===lapBtn.text()&&(stopBtn.text("Stop"),stopBtn.removeClass("btn-primary"),stopBtn.addClass("btn-danger"),lapBtn.text("Lap"))}function loadLapTableHeadings(){lapTable.show(),$(".table-heading").append('<div class="col">Lap</div>'),$(".table-heading").append('<div class="col">Lap times</div>'),$(".table-heading").append('<div class="col">Overall time</div>'),$(".table-heading").append('<div class="underline"></div>')}function loadLapRows(t){$(".table").prepend('<div class="row table-row"></div>'),$(".table-row").first().append('<div class="col">'+t+"</div>"),calcLaps?$(".table-row").first().append('<div class="col">'+getCurrentLapTime()+"</div>"):$(".table-row").first().append('<div class="col">'+getCurrentTime()+"</div>"),$(".table-row").first().append('<div class="col">'+getCurrentTime()+"</div>")}function clearLapTable(){lapTable.hide(),clock_2.hide(),clock_2.text("00 : 00 . 00"),resetLapTime(),$(".table").html(""),$(".table-heading").html("")}startBtn.on("click",()=>{startStopWatch(),startBtn.hide(),stopBtn.show(),lapBtn.show()}),stopBtn.on("click",()=>{"Stop"===stopBtn.text()?stopStopWatch():"Resume"===stopBtn.text()&&startStopWatch(),changeStopLapBtns()}),lapBtn.on("click",()=>{"Lap"===lapBtn.text()?($(".table-heading").is(":empty")&&(loadLapTableHeadings(),clock_2.show()),loadLapRows(lapNum),calcLaps=!0,resetLapTime(),lapNum++):"Reset"===lapBtn.text()&&(resetStopWatch(),stopBtn.hide(),lapBtn.hide(),changeStopLapBtns(),startBtn.show(),calcLaps=!1)});